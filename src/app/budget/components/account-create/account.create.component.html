<clr-modal [clrModalClosable]="false" [clrModalOpen]="isOpen$ | async">
    <h3 class="modal-title">Create Account</h3>
    <div class="modal-body">
        <form #createAccountForm="ngForm" name="create-account" novalidate>
            <clr-alert [hidden]="!(error$ | async) || (isCreating$ | async)" clrAlertType="alert-danger">
                <div class="alert-item">
                    <span class="alert-test">
                        {{error$ | async}}
                    </span>
                </div>
            </clr-alert>
            <div class="form-block">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input class="input" #name="ngModel" required [class.is-danger]="name.errors && (name.dirty || name.touched)" name="name" type="text" [(ngModel)]="accountName">
                    <p class="help is-danger" *ngIf="name.errors && (name.dirty || name.touched)">This name is invalid</p>
                    
                </div>
                <div class="form-group">
                    <label for="currency">Initial Balance</label>
                    <moneteer-currency-input name="initialBalance" [(ngModel)]="initialBalance" allowNegative="true" allowZeros="true"></moneteer-currency-input>
                </div>
                <div class="form-group">
                    <label for="currency">Budget Account</label>
                    <input type="checkbox" name="isBudget" [(ngModel)]="isBudget">
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-warning" (click)="close()">Cancel</button>
        <button type="button" [clrLoading]="isCreating$ | async" class="btn btn-primary" (click)="create()" [attr.disabled]="!name.errors ? null : ''">Create</button>
    </div>
</clr-modal>

