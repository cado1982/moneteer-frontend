<moneteer-nav>
    <div class="nav-body d-flex flex-column">
        <a class="link link-parent" routerLink="envelopes" routerLinkActive="active">
            <span class="align-middle"><i class="fas fa-piggy-bank"></i></span>
            <span> ENVELOPES</span>
        </a>

        <div class="link-container" routerLink="accounts" routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: true}">
            <a class="link link-parent" routerLink="accounts" routerLinkActive="active"
                [routerLinkActiveOptions]="{exact: true}">
                <i class="fas fa-university"></i>
                <span> ACCOUNTS</span>
            </a>
            <button title="Add Account" (click)="openCreateAccount($event)">
                <i class="fas fa-plus-circle"></i>
            </button>
        </div>

        <div class="d-flex flex-column">
                <a class="link link-child" *ngFor="let account of budgetAccounts | async" routerLinkActive="active"
                [routerLink]="['accounts', account.id]">
                <div class="account-container">
                    <div class="account-name text-truncate flex-grow-1 flex-shrink-1">
                        {{account.name}}
                    </div>
                    <div class="badge badge-pill flex-grow-0 flex-shrink-0"
                        [ngClass]="{'badge-danger': account.clearedBalance + account.unclearedBalance < 0, 'badge-light': account.clearedBalance + account.unclearedBalance >= 0}">
                        {{account.clearedBalance + account.unclearedBalance | budgetCurrency:true | async}}
                    </div>
                </div>
            </a>
        </div>
        
    </div>
</moneteer-nav>